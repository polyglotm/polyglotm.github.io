---
layout: post
title: 'nGrinder 3.3 with Ubuntu 14.04.1 LTS [Part - 2 Advance - (Subtitle - Agent
  Clustring, Memory setting)] '
date: '2015-07-25T01:35:00.000-07:00'
author: Jaeyoung Lee
tags:
- nGrinder
modified_time: '2015-07-25T01:35:02.570-07:00'
thumbnail: http://3.bp.blogspot.com/-3tKMLY88lYk/VGBLTRkuu7I/AAAAAAAAANQ/oKnDFQlEBk0/s72-c/nGrinder-console-2.png
blogger_id: tag:blogger.com,1999:blog-5872989675159532416.post-2887353559777608568
blogger_orig_url: http://polyglot-m.blogspot.com/2015/07/ngrinder-33-with-ubuntu-14041-lts-part_25.html
---

<h2 style="background-color: white; color: #222222; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 22px; font-stretch: normal; font-weight: normal; margin: 0.75em 0px 0px; position: relative;">nGrinder 3.3 with Ubuntu 14.04.1 LTS [Part - 2 Advance - (Subtitle - Agent Clustring, Memory setting)]&nbsp;</h2><div><br /></div><div>Part-1 Basic을 읽고 오셨다면 느끼셨겠지만</div><div>언제 어디서나 인터넷만 존재한다면 개발환경과도 무관하게 테스트를 바로 진행 할 수 있으니 JMeter에서 사용하던 remote control 의 불편함을 해소하고, &nbsp;WAS기반으로 테스트를 진행한다는것은 가히 매력적이라고 할수 있습니다.</div><div><br /></div><div>또한 자동으로 테스트 결과를 저장해 준다는것 또한 매력적입니다.</div><div><br /></div><div>Part-2에서 다루게 될 Moniter기능과 Agent Clustering까지 적용한다면&nbsp;</div><div>손쉽게 테스트를 진행하고, target server의 자원을 체크할수 있으니 단순히 TPS 또는 response time 측정 뿐만이 아닌 목표로 하는 서버 scale up에도 적절히 활용 할수 있을 것 입니다.</div><div><br /></div><div><div><b><span style="color: blue;">If you're here to read, but feel Part-1 Basic</span></b></div><div><b><span style="color: blue;">Internet anywhere, anytime, if there is only development environment, and it may also be conducted regardless of the test immediately relieve the discomfort of a remote control that was used in JMeter, and proceed with the test is that it WAS based on the notch can be called attractive.</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">Giving is also an attractive addition to automatically save the test results.</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">If applied to the Agent Clustering Moniter function and be covered in Part-2</span></b></div><div><b><span style="color: blue;">Easily proceed to test, target server, so you can check the resources of the TPS or simply by measuring response time servers that scale up to the target, not only you will be able to properly utilize.</span></b></div></div><div><br /></div><div><br /></div><div>nGrinder Controller(war가 배포된 tomcat)을 실행하거나</div><div>nGrinder Agent, nGrinder Moniter를 실행할경우</div><div><br /></div><div>/home/{user}/ 하위에 설정 파일이 자동으로 생성됩니다.</div><div><br /></div><div><div><b><span style="color: blue;">Run the nGrinder Controller (war is deployed tomcat) or</span></b></div><div><b><span style="color: blue;">nGrinder Agent, if you run the nGrinder Moniter</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">/ home / {user} / settings file is created automatically in the child.</span></b></div></div><div><br /></div><div>Controller -&gt; .ngrinder</div><div>Agent &nbsp; &nbsp; &nbsp; -&gt; .ngrinder_agent</div><div>moniter &nbsp; &nbsp;-&gt; .ngrinder_agent</div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-3tKMLY88lYk/VGBLTRkuu7I/AAAAAAAAANQ/oKnDFQlEBk0/s1600/nGrinder-console-2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="30" src="http://3.bp.blogspot.com/-3tKMLY88lYk/VGBLTRkuu7I/AAAAAAAAANQ/oKnDFQlEBk0/s1600/nGrinder-console-2.png" width="640" /></a></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-PLidMDp4LfE/VGBLTd0PgCI/AAAAAAAAANM/BD69DBwVOvU/s1600/nGrinder-console-1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="30" src="http://3.bp.blogspot.com/-PLidMDp4LfE/VGBLTd0PgCI/AAAAAAAAANM/BD69DBwVOvU/s1600/nGrinder-console-1.png" width="640" /></a></div><br /><div><br /></div><div>Agent와 moniter가 .ngrinder_agent 라는 같은 이름으로 생성 된다고 해서 혼동이 발생할 일은 없습니다. moniter는 target server에 배포하고, agent는 attack server에 배포하기 때문에 같은곳에 존재 할 일이 없기 때문입니다.</div><div><br /></div><div>local에서 Agent를 실행했을때는 별다른 설정 없이 controller와 연동이 되었지만, Clustering을 할때는 약간의 편집을 해 주어야 합니다.</div><div><br /></div><div><div><b><span style="color: blue;">Agent and moniter does not work cause confusion generated by that same name .ngrinder_agent. moniter is deployed on target server and, agent, because there is no work to do at the same place, because they are deployed to attack server.</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">When you run the Agent from the local controller and the works, but without any settings, you have to edit some halttaeneun for Clustering.</span></b></div></div><div><br /></div><div><br /></div><div>nGrinder 개발팀의 리더이신 윤준호님께서 직접 작성한 글을 인용하자면 아래와 같습니다.</div><div>원문 :&nbsp;http://junoyoon.tistory.com/108</div><div><div><b><span style="color: blue;">Yun Junho's leader, who had a team nGrinder following quote posts directly.</span></b></div><div><b><span style="color: blue;">Source: http://junoyoon.tistory.com/108</span></b></div></div><div>---------------------------------------------------------------------------------------------------------------</div><div><ul style="background-color: white; color: #666666; font-family: dotum; font-size: 12px; line-height: 18px;"><li>Controller : Oracle JDK 1.6 이상 / 톰캣 6.X 이상&nbsp; / 메모리 2G 이상 권장</li><li>Agent : Oracle JDK 1.6 이상 / 2 Core - 메모리 4G 권장</li></ul></div><div><ol style="background-color: white; color: #666666; font-family: dotum; font-size: 12px; line-height: 18px;"><li>nGrinder 컨트롤러는 메모리를 많이 쓰기 때문에 메모리 설정이 좀 필요합니다. 다음 설정을 안하시면 몇가지 관리자 기능이 동작하지 않게 됩니다. 톰켓의 bin/catalina.sh (리눅스 사용시) 또는 bin/catalina.bat (윈도우즈 사용시) 에 다음을 넣으세요. 맨 앞에 넣으시면 됩니다.&nbsp;<div><div class="syntaxhighlighter  bash" id="highlighter_554736" style="background-color: rgb(15, 25, 42) !important; font-size: 1em !important; margin: 1em 0px !important; overflow: auto !important; position: relative !important; width: 610px;"><div class="toolbar" style="background-attachment: initial !important; background-clip: initial !important; background-image: none !important; background-origin: initial !important; background-position: initial !important; background-repeat: initial !important; background-size: initial !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; height: 11px !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: absolute !important; right: 1px !important; top: 1px !important; vertical-align: baseline !important; width: 11px !important; z-index: 10 !important;"><a class="toolbar_item command_help help" href="http://junoyoon.tistory.com/108#" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(56, 86, 111) !important; display: block !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 1px 0px 0px !important; position: static !important; right: auto !important; text-align: center !important; text-decoration: none !important; top: auto !important; vertical-align: baseline !important; width: auto !important;">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-collapse: collapse; border-spacing: 0px; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: 610px;"><tbody style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><tr style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><td class="gutter" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><div class="line number1 index0 alt2" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; white-space: pre !important; width: auto !important;">1</div></td><td class="code" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: 584px;"><div class="container" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><div class="line number1 index0 alt2" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; white-space: pre !important; width: auto !important;"><code class="bash plain" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(209, 237, 255) !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;">JAVA_OPTS=</code><code class="bash string" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(29, 193, 22) !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;">"-Xms600m -Xmx1024m -XX:MaxPermSize=200m"</code>&nbsp;&nbsp;&nbsp;&nbsp;<code class="bash comments" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(66, 139, 221) !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"># for catalina.sh</code></div></div></td></tr></tbody></table></div></div><div><div class="syntaxhighlighter  bash" id="highlighter_719720" style="background-color: rgb(15, 25, 42) !important; font-size: 1em !important; margin: 1em 0px !important; overflow: auto !important; position: relative !important; width: 610px;"><div class="toolbar" style="background-attachment: initial !important; background-clip: initial !important; background-image: none !important; background-origin: initial !important; background-position: initial !important; background-repeat: initial !important; background-size: initial !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; height: 11px !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: absolute !important; right: 1px !important; top: 1px !important; vertical-align: baseline !important; width: 11px !important; z-index: 10 !important;"><a class="toolbar_item command_help help" href="http://junoyoon.tistory.com/108#" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(56, 86, 111) !important; display: block !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 1px 0px 0px !important; position: static !important; right: auto !important; text-align: center !important; text-decoration: none !important; top: auto !important; vertical-align: baseline !important; width: auto !important;">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-collapse: collapse; border-spacing: 0px; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: 610px;"><tbody style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><tr style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><td class="gutter" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><div class="line number1 index0 alt2" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px 0.5em 0px 1em !important; position: static !important; right: auto !important; text-align: right !important; top: auto !important; vertical-align: baseline !important; white-space: pre !important; width: auto !important;">1</div></td><td class="code" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: 584px;"><div class="container" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: relative !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"><div class="line number1 index0 alt2" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; float: none !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px 1em !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; white-space: pre !important; width: auto !important;"><code class="bash functions" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(255, 170, 62) !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;">set</code>&nbsp;<code class="bash plain" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(209, 237, 255) !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;">JAVA_OPTS=-Xms600m -Xmx1024m -XX:MaxPermSize=200m&nbsp;&nbsp;&nbsp;</code><code class="bash comments" style="background: none !important; border-bottom-left-radius: 0px !important; border-bottom-right-radius: 0px !important; border-top-left-radius: 0px !important; border-top-right-radius: 0px !important; border: 0px !important; bottom: auto !important; box-sizing: content-box !important; color: rgb(66, 139, 221) !important; float: none !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; height: auto !important; left: auto !important; line-height: 1.1em !important; margin: 0px !important; min-height: inherit !important; outline: 0px !important; overflow: visible !important; padding: 0px !important; position: static !important; right: auto !important; top: auto !important; vertical-align: baseline !important; width: auto !important;"># for catalina.bat</code></div></div></td></tr></tbody></table></div></div></li></ol></div><div><div><b><span style="color: blue;">Controller: Oracle JDK 1.6 or higher / Tomcat 6.X or higher / Memory 2G or more recommended</span></b></div><div><b><span style="color: blue;">Agent: Oracle JDK 1.6 or later / 2 Core - 4G memory recommended</span></b></div><div><b><span style="color: blue;">nGrinder controller requires little memory settings, so write a lot of memory. If you do not have some of the following settings: Administrator function will not work. Put the following in bin / catalina.sh (using Linux) or bin / catalina.bat (using Windows) on Tomcat. The simyeon put it at the front.</span></b></div></div><div><br /></div><div>---------------------------------------------------------------------------------------------------------------</div><div><br /></div><h3>1.Controller Setting</h3><div><br /></div><div>우선 다양한 기능들을 사용하기위해 Controller(tomcat)의 메모리부터 수정하겠습니다.</div><div><br /></div><div>/{TOMCAT_HOME}/bin/ 경로로 가셔서</div><div>linux의 경우 catalina.sh / windows의 경우 catalina.bat을 애용하시는 편집기로 편집하시면 됩니다.</div><div>입력 위치는 크게 상관 없는걸로 알고있지만 저는 97번째 줄에 넣곤 합니다.</div><div><br /></div><div><div><b><span style="color: blue;">First, we will modify from the memory of the Controller (tomcat) to use various functions.</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">/ {TOMCAT_HOME} go to / bin / path</span></b></div><div><b><span style="color: blue;">For the case of linux catalina.sh / windows please edit in your favorite editor and catalina.bat.</span></b></div><div><b><span style="color: blue;">Enter location is largely irrelevant, but I understand we neotgon the 97th line.</span></b></div></div><div><br /></div><div><br /></div><div>윤준호씨가 권장한 설정</div><div><b><span style="color: blue;">Mr. Yun Junho recommended settings</span></b></div><div><br /><div style="background-color: white; display: inline-block;"><div style="font-family: 나눔고딕,NanumGothic,돋움,Dotum;"><div style="display: inline; font-size: 12px; width: auto;"><a href="http://prev.kr/app/ColorScripter" style="color: #010101; text-decoration: none;" target="_blank">Colored By&nbsp;<b><span style="color: #0099cc;">Color Scripter</span></b>™</a></div></div><div><table border="0" cellpadding="0" cellspacing="0" style="font-family: NanumGothicCoding,나눔고딕코딩,나눔고딕,NanumGothic,돋움,Dotum; font-size: 13px; white-space: nowrap !important;"><tbody><tr style="margin: 0px; padding: 0px;"><td style="border-right-color: rgb(0, 153, 204); border-right-style: solid; border-right-width: 3px; color: #888888; margin: 0px; padding: 0px 3px; text-align: right;">1</td><td nowrap="" style="color: #010101; margin: 0px; padding: 0px 3px;"><div style="background-color: #f7f7f7;">JAVA_OPTS=<span style="color: #993333;">"-Xms600m&nbsp;-Xmx1024m&nbsp;-XX:MaxPermSize=200m"</span></div></td></tr></tbody></table></div></div></div><div><br /></div><div>제가 사용하고 있는 설정.</div><div><b><span style="color: blue;">I use that setting.</span></b></div><div><br /><div style="background-color: white; display: inline-block;"><div style="font-family: 나눔고딕,NanumGothic,돋움,Dotum;"><div style="display: inline; font-size: 12px; width: auto;"><a href="http://prev.kr/app/ColorScripter" style="color: #010101; text-decoration: none;" target="_blank">Colored By&nbsp;<b><span style="color: #0099cc;">Color Scripter</span></b>™</a></div></div><div><table border="0" cellpadding="0" cellspacing="0" style="font-family: NanumGothicCoding,나눔고딕코딩,나눔고딕,NanumGothic,돋움,Dotum; font-size: 13px; white-space: nowrap !important;"><tbody><tr style="margin: 0px; padding: 0px;"><td style="border-right-color: rgb(0, 153, 204); border-right-style: solid; border-right-width: 3px; color: #888888; margin: 0px; padding: 0px 3px; text-align: right;">1</td><td nowrap="" style="color: #010101; margin: 0px; padding: 0px 3px;"><div style="background-color: #f7f7f7;">JAVA_OPTS=<span style="color: #993333;">"-Djava.awt.headless=true&nbsp;-Dfile.encoding=UTF-8&nbsp;-server&nbsp;-Xms512m&nbsp;-Xmx1536m&nbsp;</span></div><div style="background-color: #f7f7f7;"><span style="color: #993333;">-XX:NewSize=128m&nbsp;-XX:MaxNewSize=256m&nbsp;-XX:PermSize=128m&nbsp;-XX:MaxPermSize=1024m&nbsp;-XX:+DisableExplicitGC"</span></div></td></tr></tbody></table></div></div></div><div><div style="background-color: white; display: inline-block;"></div></div><div><br /></div><div>아래와 같은 명령어로 실행하여 백그라운드로 실행 하십시오.</div><div>nohup {command} &amp;</div><div>당신의 터미널이 종료 되어도 동작합니다.</div><div><br /></div><div>ex)nohup ./startup.sh &amp;</div><div><br /></div><div>종료시키는 방법은 직접 PID를 조회 해서 process kill 해야합니다.</div><div><br /></div><div><div><b><span style="color: blue;">Run the following command to run in the background.</span></b></div><div><b><span style="color: blue;">nohup {command} &amp;</span></b></div><div><b><span style="color: blue;">This works even if you exit the terminal.</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">ex) nohup ./startup.sh &amp;</span></b></div><div><b><span style="color: blue;"><br /></span></b></div><div><b><span style="color: blue;">How to terminate the query directly to the PID must process kill.</span></b></div></div><div><br /></div><div>(search tomcat pid)</div><div>ps -aux|grep tomcat</div><div><br /></div><div>(kill tomcat process)</div><div>kill -9 [PID]</div><div><br /></div><h3>2.Agent Setting</h3><div><br /></div><div>최초 Agent를 실행하면</div><div>/{userHome}/ 경로 아래에 .ngrinder_agent가 생성됩니다.</div><div><br /></div><div>Agent를 실행한 적이 없다면 Agent 폴더 안에 __agent.conf를 편집하시고</div><div>Agent를 실행한 적이 있다면 .ngrinder_agent 폴더안에 agent.conf를 편집하세요.</div><div><br /></div><div>.ngrinder_agent/agent.conf가 {agent_home}/__agent.conf보다 우선 적용됩니다.</div><div><br /></div><div><div><span style="color: blue;"><b>When you first run the Agent</b></span></div><div><span style="color: blue;"><b>/ {userHome} / path will be created under .ngrinder_agent.</b></span></div><div><span style="color: blue;"><b><br /></b></span></div><div><span style="color: blue;"><b>If you have not run the Agent in Agent folder and edit the __agent.conf</b></span></div><div><span style="color: blue;"><b>If you have run the Agent to edit the agent.conf in .ngrinder_agent folder.</b></span></div><div><span style="color: blue;"><b><br /></b></span></div><div><span style="color: blue;"><b>.ngrinder_agent / agent.conf the {agent_home} / overrides __ agent.conf.</b></span></div></div><div><br /></div><div><br /><div style="background-color: white; display: inline-block;"><div style="font-family: 나눔고딕,NanumGothic,돋움,Dotum;"><div style="display: inline; font-size: 12px; width: auto;"><a href="http://prev.kr/app/ColorScripter" style="color: #010101; text-decoration: none;" target="_blank">Colored By&nbsp;<b><span style="color: #0099cc;">Color Scripter</span></b>™</a></div></div><div><table border="0" cellpadding="0" cellspacing="0" style="font-family: NanumGothicCoding,나눔고딕코딩,나눔고딕,NanumGothic,돋움,Dotum; font-size: 13px; white-space: nowrap !important;"><tbody><tr style="margin: 0px; padding: 0px;"><td style="border-right-color: rgb(0, 153, 204); border-right-style: solid; border-right-width: 3px; color: #888888; margin: 0px; padding: 0px 3px; text-align: right;"><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div></td><td nowrap="" style="color: #010101; margin: 0px; padding: 0px 3px;"><div style="background-color: #f7f7f7;">common.start_mode=agent</div><div></div><div style="background-color: #f7f7f7;">#You`re&nbsp;WAS&nbsp;IP</div><div>agent.controller_host=111.222.333.444</div><div style="background-color: #f7f7f7;"></div><div>agent.controller_port=16001</div><div style="background-color: #f7f7f7;"></div><div>#anything</div><div style="background-color: #f7f7f7;">agent.region=TestRegion</div><div></div><div style="background-color: #f7f7f7;">#agent_ID_code</div><div>agent.host_id=anything</div></td></tr></tbody></table></div></div></div><div><br /></div><div>에이전트 또한 controller와 마찬가지로 백그라운드로 구동합니다.</div><div><b><span style="color: blue;">Agents also drive and controller, like the background.</span></b></div><div><br /></div><div>nohup ./run_agent.sh &amp;</div><div><br /></div><div>여기까지 완료되었다면 WAS에 접속해서 중간 점검을 해보도록 합니다.</div><div><span style="color: blue;"><b>Once complete, up here to try to connect to WAS intermediate check.</b></span></div><div><br /></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-7cigcWVSffo/VGBZ3DyZO2I/AAAAAAAAANo/7FNF3a0Im3o/s1600/nGrinder-advance-upload-1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="440" src="http://4.bp.blogspot.com/-7cigcWVSffo/VGBZ3DyZO2I/AAAAAAAAANo/7FNF3a0Im3o/s1600/nGrinder-advance-upload-1.png" width="640" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div>admin tab -&gt; Agent Management Tab으로 들어갑니다.<br /><span style="color: blue;"><b>admin tab -&gt; enter the Agent Management Tab.</b></span><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-vXykM5mJyFc/VGBZ3IzkEjI/AAAAAAAAANk/IxaVxtU41Wo/s1600/nGrinder-advance-upload-2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="270" src="http://3.bp.blogspot.com/-vXykM5mJyFc/VGBZ3IzkEjI/AAAAAAAAANk/IxaVxtU41Wo/s1600/nGrinder-advance-upload-2.png" width="640" /></a></div><div>현재 활성화된 Agent를 볼수 있습니다.</div><div>가장 우측에 Approved 설정 부분에 모든 Agent가 Approved 되어 있는지 확인하세요.</div><div><br /></div><div><div><span style="color: blue;"><b>You can view the currently active Agent.</b></span></div><div><span style="color: blue;"><b>Make sure that the Agent has all the right parts are set to Approved Approved.</b></span></div></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><h3>3.Moniter Setting</h3><div><br /></div><div>모니터 설정은... 그냥 실행만 하면됩니다 :D</div><div><b><span style="color: blue;">Monitor settings ... just simply run :D</span></b></div><div><br /></div><div>nohup ./run_moniter.sh &amp;</div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div>자 그럼 실제로 테스트를 하나 진행 해보도록 하죠.</div><div><b><span style="color: blue;">So I actually tested one going to try.</span></b></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-yhi66UP_3Ks/VGBeBR5IqyI/AAAAAAAAAOM/5rlxzxxpHHY/s1600/nGrinder-advance-upload-5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="566" src="http://3.bp.blogspot.com/-yhi66UP_3Ks/VGBeBR5IqyI/AAAAAAAAAOM/5rlxzxxpHHY/s1600/nGrinder-advance-upload-5.png" width="640" /></a></div><br />1. Agent 설정창 Max가 2로 증가된것을 확인할 수 있습니다.<br />2. +버튼을 누르면 Agent의 process개수와 Thread개수를 조절할 수 있습니다.<br />3. Script코드를 선택할수 있습니다.<br />4. Add버튼을 눌러 Target Server를 monitering 할수 있습니다.<br />&nbsp; &nbsp; (물론 Target Server에서 moniter가 구동 중이어야 합니다.)<br />5.Agent가 Thread단위로 실행 할 것인지. Process단위로 실행 할 것인지 결정합니다.<br />&nbsp; Part-1 Basic에서 말했던 것처럼 Process는 자원 소모가 많아서 저는 Thread로 실행합니다.<br /><br /><span style="color: blue;"><b>1. Agent window, you can see that Max is increased by two.</b></span><br /><span style="color: blue;"><b>2. Press the + button to adjust the process and Thread Count The number of Agent.</b></span><br /><span style="color: blue;"><b>3. You can select the Script code.</b></span><br /><span style="color: blue;"><b>4. Click the Add button can be monitering the Target Server.</b></span><br /><span style="color: blue;"><b>&nbsp; &nbsp; &nbsp;(Of course, you should moniter is being driven from the Target Server.)</b></span><br /><span style="color: blue;"><b>5.Agent is whether to run as a Thread Unit. Decide if you want to run the Process Unit.</b></span><br /><span style="color: blue;"><b>&nbsp; &nbsp;As mentioned in Part-1 Basic Process is executed by the resources consumed much I Thread.</b></span><br /><br /><br />Target Host Add버튼을 누르면 아래와 같은 창이 뜹니다.<br /><span style="color: blue;"><b>Pressing the Target Host Add button brings up the following window.</b></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-Ns3vvezNNTI/VGBeBhjP4TI/AAAAAAAAAOI/ECoqYQMPIsY/s1600/nGrinder-advance-upload-6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="280" src="http://1.bp.blogspot.com/-Ns3vvezNNTI/VGBeBhjP4TI/AAAAAAAAAOI/ECoqYQMPIsY/s1600/nGrinder-advance-upload-6.png" width="640" /></a></div><div><br /></div><div>바로 테스트를 시작해 보겠습니다.</div><div><span style="color: blue;"><b>Let's start the test immediately.</b></span></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-KGKJ_-a7cYM/VGBdpunUqNI/AAAAAAAAAN8/KC24NWm-U2I/s1600/nGrinder-advance-upload-3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="544" src="http://2.bp.blogspot.com/-KGKJ_-a7cYM/VGBdpunUqNI/AAAAAAAAAN8/KC24NWm-U2I/s1600/nGrinder-advance-upload-3.png" width="640" /></a></div>화면에 보이는것처럼 좌측에 Target State와 Agent State를 표시해줍니다.<br /><b><span style="color: blue;">It displays the Target State and Agent State on the left as shown in the screen.</span></b><br /><br /><br /><br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-4vCQu85zWQk/VGBdpr4c95I/AAAAAAAAAN4/-LF0du9KF94/s1600/nGrinder-advance-upload-4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="546" src="http://4.bp.blogspot.com/-4vCQu85zWQk/VGBdpr4c95I/AAAAAAAAAN4/-LF0du9KF94/s1600/nGrinder-advance-upload-4.png" width="640" /></a></div><div><br /></div><div>Test Result을 보면 Moniter된 서버의 시간대별 CPU/memory 사용량을 확인 할 수 있습니다.</div><div><b><span style="color: blue;">In the Test Result can be checked hourly CPU / memory usage of the server Moniter.</span></b></div><div><br /></div><div><br /></div><div><br /></div><div>Part-2 Advance는 이것으로 마치고</div><div>Part-3 Ultimate에서는 JMeter&nbsp;+ nGrinder 복합사용을,</div><div>Part-4 Unlimited 에서는 Controller Clustering을 다룰 예정입니다.(물론 쓰게 된다면 말이죠.)</div><div><div><br /></div><div><b><span style="color: blue;">Part-2 Advance is finished with it</span></b></div><div><b><span style="color: blue;">Using JMeter + nGrinder complex in Part-3 Ultimate,</span></b></div><div><b><span style="color: blue;">In Part-4 Unlimited will cover the Controller Clustering. (. If time permits, of course)</span></b></div></div>